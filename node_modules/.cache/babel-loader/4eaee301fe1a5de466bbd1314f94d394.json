{"ast":null,"code":"import _slicedToArray from\"C:/webgis/react/url-shortening-api/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState,useEffect}from'react';import Cards from'./Cards';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ShortenBox=function ShortenBox(){var api='https://api.shrtco.de/v2/shorten?url=';var _useState=useState(''),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isPending=_useState4[0],setIsPending=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),copyText=_useState8[0],setCopied=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),urlData=_useState10[0],setUrlData=_useState10[1];var result_api=[];var fetchUrl=function fetchUrl(url){fetch(api+url).then(function(res){if(!res.ok){throw Error('could not fecth the data for that resource');}return res.json();}).then(function(e){setIsPending(false);setUrlData(e.result);result_api.push(e.result);setError(null);}).catch(function(err){setIsPending(false);setError(err.message);});return{urlData:urlData,isPending:isPending,error:error};};var handleSubmit=function handleSubmit(){fetchUrl(value);if(isPending==false){console.log(urlData);}};var copyToClipboard=function copyToClipboard(text){var _navigator$clipboard;return((_navigator$clipboard=navigator.clipboard)===null||_navigator$clipboard===void 0?void 0:_navigator$clipboard.writeText)&&navigator.clipboard.writeText(text);};var handleClick=function handleClick(text){copyToClipboard(text);setCopied(true);};return/*#__PURE__*/_jsxs(\"section\",{className:\"flex font-press-start cardbox items-center w-full p-12 flex-col bg-lightgray h-fit relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"shortBox md:w-[60%] lg:w-[70%] absolute back-desktop -top-8 flex flex-col lg:flex-row items-center justify-center p-8 bg-DarkViolet rounded\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){setValue(e.target.value);},className:\"lg:w-[80%] md:w-[70%] p-4 rounded \",type:\"text\",placeholder:\"shorten a link here..\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"p-4 bg-Cyan m-2 font-bold hover:bg-Gray w-[85%] md:w-[55%] lg:w-[25%] rounded text-White\",children:\"Shorten it\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-8 mt-12  md:p-20  md:w-[82%]\",children:urlData&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex divide-y-[3px] md:divide-y-[0px] divide-DarkViolet space-y-4 place-items-center mt-12 md:mt-1 flex-col lg:flex-row justify-between  bg-White rounded  p-8\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-DarkViolet \",children:urlData.original_link.length>35?urlData.original_link.slice(0,25)+'...':urlData.original_link}),/*#__PURE__*/_jsx(\"span\",{className:\"text-Cyan\",children:urlData.full_short_link2}),/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){handleClick(urlData.full_short_link2);},className:\"text-slate-50 p-4 btn text-[13px] outline-none rounded bg-Cyan font-semibold text-White w-[80%] lg:w-24 h-12\",children:[copyText==true?'Copied':'Copy',\" \"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"statsbox flex space-y-5 flex-col m-5 p-12 text-center items-center justify-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl text-DarkViolet md:text-2xl lg:text-4xl font-bold\",children:\"Advanced Statistics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"leading-6 w-[250px] lg:w-[60%] text-GrayishViolet font-semibold text-center \",children:\"Track how your Links are performing accross the web with our advanced statistics dashboard\"})]}),/*#__PURE__*/_jsx(Cards,{})]});};export default ShortenBox;","map":{"version":3,"sources":["C:/webgis/react/url-shortening-api/src/components/ShortenBox.jsx"],"names":["React","useState","useEffect","Cards","ShortenBox","api","value","setValue","isPending","setIsPending","error","setError","copyText","setCopied","urlData","setUrlData","result_api","fetchUrl","url","fetch","then","res","ok","Error","json","e","result","push","catch","err","message","handleSubmit","console","log","copyToClipboard","text","navigator","clipboard","writeText","handleClick","target","original_link","length","slice","full_short_link2"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { useState, useEffect } from 'react';\r\nimport Cards from './Cards';\r\n\r\n\r\n\r\nconst ShortenBox = () => {\r\n    let api = 'https://api.shrtco.de/v2/shorten?url='\r\n    const[value, setValue] = useState('');\r\n    const [isPending, setIsPending] = useState(true)\r\n    const [error, setError] = useState(null)\r\n    const[copyText, setCopied] = useState(false);\r\n    const [urlData, setUrlData] =useState(null);\r\n    let result_api = [];\r\n\r\n    const fetchUrl = (url) => {\r\n        fetch(api+url)\r\n        .then(res => {\r\n            if(!res.ok){\r\n                throw Error('could not fecth the data for that resource')\r\n            }\r\n            return res.json()\r\n        })\r\n        .then(e =>{\r\n            setIsPending(false);\r\n            setUrlData(e.result);\r\n            result_api.push(e.result);\r\n            setError(null)\r\n        })\r\n        .catch(err => {\r\n            setIsPending(false);\r\n            setError(err.message)\r\n        })\r\n        return{urlData, isPending, error}\r\n        \r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        fetchUrl(value);\r\n        if(isPending == false){\r\n            console.log(urlData)\r\n        }\r\n      \r\n    }\r\n\r\n\r\n    const copyToClipboard = (text) =>\r\n        navigator.clipboard?.writeText && navigator.clipboard.writeText(text);\r\n    const handleClick = (text) => {\r\n        copyToClipboard(text)\r\n        setCopied(true)\r\n    \r\n    }\r\n\r\n\r\n  return (\r\n    <section className='flex font-press-start cardbox items-center w-full p-12 flex-col bg-lightgray h-fit relative'>\r\n        <div className=\"shortBox md:w-[60%] lg:w-[70%] absolute back-desktop -top-8 flex flex-col lg:flex-row items-center justify-center p-8 bg-DarkViolet rounded\">\r\n            <input onChange={(e) => {setValue(e.target.value)}} className='lg:w-[80%] md:w-[70%] p-4 rounded ' type=\"text\" placeholder='shorten a link here..' />\r\n            <button onClick={handleSubmit} className='p-4 bg-Cyan m-2 font-bold hover:bg-Gray w-[85%] md:w-[55%] lg:w-[25%] rounded text-White' >Shorten it</button>\r\n        </div>\r\n\r\n        <div className='p-8 mt-12  md:p-20  md:w-[82%]'>\r\n        \r\n        {urlData && <div className='flex divide-y-[3px] md:divide-y-[0px] divide-DarkViolet space-y-4 place-items-center mt-12 md:mt-1 flex-col lg:flex-row justify-between  bg-White rounded  p-8'> \r\n            <p className='text-DarkViolet ' >{urlData.original_link.length > 35 ? urlData.original_link.slice(0,25) + '...' : urlData.original_link}</p>\r\n            <span className='text-Cyan'>{urlData.full_short_link2}</span>\r\n\r\n            <button onClick={() => {handleClick(urlData.full_short_link2)}} \r\n\r\n            className='text-slate-50 p-4 btn text-[13px] outline-none rounded bg-Cyan font-semibold text-White w-[80%] lg:w-24 h-12'>{copyText == true ?  'Copied' : 'Copy'} </button>\r\n            </div>}\r\n        </div>\r\n        \r\n\r\n        <div className=\"statsbox flex space-y-5 flex-col m-5 p-12 text-center items-center justify-center\">\r\n            <h3 className='text-xl text-DarkViolet md:text-2xl lg:text-4xl font-bold' >Advanced Statistics</h3>\r\n            <p className='leading-6 w-[250px] lg:w-[60%] text-GrayishViolet font-semibold text-center '>Track how your Links are performing accross the web with our advanced statistics dashboard</p>\r\n        </div>\r\n\r\n        <Cards />\r\n      \r\n    </section>\r\n  )\r\n}\r\n\r\nexport default ShortenBox"]},"metadata":{},"sourceType":"module"}